<svg id="mermaid-1615297010575" width="100%" xmlns="http://www.w3.org/2000/svg" class="statediagram" height="883" style="max-width: 956.7099609375px;" viewBox="0 0 546.69140625 883"><style>#mermaid-1615297010575{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1615297010575 .error-icon{fill:#552222;}#mermaid-1615297010575 .error-text{fill:#552222;stroke:#552222;}#mermaid-1615297010575 .edge-thickness-normal{stroke-width:2px;}#mermaid-1615297010575 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1615297010575 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1615297010575 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1615297010575 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1615297010575 .marker{fill:#333333;stroke:#333333;}#mermaid-1615297010575 .marker.cross{stroke:#333333;}#mermaid-1615297010575 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1615297010575 g.stateGroup text{fill:#9370DB;stroke:none;font-size:10px;}#mermaid-1615297010575 g.stateGroup text{fill:#333;stroke:none;font-size:10px;}#mermaid-1615297010575 g.stateGroup .state-title{font-weight:bolder;fill:black;}#mermaid-1615297010575 g.stateGroup rect{fill:#ECECFF;stroke:#9370DB;}#mermaid-1615297010575 g.stateGroup line{stroke:#333333;stroke-width:1;}#mermaid-1615297010575 .transition{stroke:#333333;stroke-width:1;fill:none;}#mermaid-1615297010575 .stateGroup .composit{fill:white;border-bottom:1px;}#mermaid-1615297010575 .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#mermaid-1615297010575 .state-note{stroke:#aaaa33;fill:#fff5ad;}#mermaid-1615297010575 .state-note text{fill:black;stroke:none;font-size:10px;}#mermaid-1615297010575 .stateLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#mermaid-1615297010575 .edgeLabel .label rect{fill:hsl(80,100%,96.2745098039%);opacity:0.5;}#mermaid-1615297010575 .edgeLabel .label text{fill:rgb(9.5000000001,9.5000000001,9.5000000001);}#mermaid-1615297010575 .label div .edgeLabel{color:rgb(9.5000000001,9.5000000001,9.5000000001);}#mermaid-1615297010575 .stateLabel text{fill:black;font-size:10px;font-weight:bold;}#mermaid-1615297010575 .node circle.state-start{fill:#333333;stroke:black;}#mermaid-1615297010575 .node circle.state-end{fill:hsl(240,60%,86.2745098039%);stroke:white;stroke-width:1.5;}#mermaid-1615297010575 .end-state-inner{fill:white;stroke-width:1.5;}#mermaid-1615297010575 .node rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1615297010575 #statediagram-barbEnd{fill:#333333;}#mermaid-1615297010575 .statediagram-cluster rect{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1615297010575 .cluster-label,#mermaid-1615297010575 .nodeLabel{color:#333;}#mermaid-1615297010575 .statediagram-cluster rect.outer{rx:5px;ry:5px;}#mermaid-1615297010575 .statediagram-state .divider{stroke:#9370DB;}#mermaid-1615297010575 .statediagram-state .title-state{rx:5px;ry:5px;}#mermaid-1615297010575 .statediagram-cluster.statediagram-cluster .inner{fill:white;}#mermaid-1615297010575 .statediagram-cluster.statediagram-cluster-alt .inner{fill:#e0e0e0;}#mermaid-1615297010575 .statediagram-cluster .inner{rx:0;ry:0;}#mermaid-1615297010575 .statediagram-state rect.basic{rx:5px;ry:5px;}#mermaid-1615297010575 .statediagram-state rect.divider{stroke-dasharray:10,10;fill:#efefef;}#mermaid-1615297010575 .note-edge{stroke-dasharray:5;}#mermaid-1615297010575 .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#mermaid-1615297010575 .statediagram-note rect{fill:#fff5ad;stroke:#aaaa33;stroke-width:1px;rx:0;ry:0;}#mermaid-1615297010575 .statediagram-note text{fill:black;}#mermaid-1615297010575 .statediagram-note .nodeLabel{color:black;}#mermaid-1615297010575 #dependencyStart,#mermaid-1615297010575 #dependencyEnd{fill:#333333;stroke:#333333;stroke-width:1;}#mermaid-1615297010575:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-1615297010575 stateDiagram{fill:apa;}</style><g><defs><marker id="statediagram-barbEnd" refX="19" refY="7" markerWidth="20" markerHeight="14" markerUnits="strokeWidth" orient="auto"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M148.13671875,563L148.13671875,573.5833333333334C148.13671875,584.1666666666666,148.13671875,605.3333333333334,150.06361410651408,621.6666666666666C151.99050946302816,638,155.84430017605635,649.5,157.77119553257043,655.25L159.6980908890845,661" id="edge0" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M171.9296875,734L171.9296875,739.75C171.9296875,745.5,171.9296875,757,180.04206837322695,768.5C188.15444924645388,780,204.3792109929078,791.5,212.49159186613474,797.25L220.6039727393617,803" id="edge1" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M342.1326219512195,62L335.3077839176829,67.75C328.4829458841463,73.5,314.8332698170732,85,308.0084317835366,96.5C301.18359375,108,301.18359375,119.5,301.18359375,125.25L301.18359375,131" id="edge2" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M415.33809549825173,377L427.87224104020976,371.25C440.40638658216784,365.5,465.4746776660839,354,478.008823208042,338C490.54296875,322,490.54296875,301.5,490.54296875,281C490.54296875,260.5,490.54296875,240,490.54296875,219.5C490.54296875,199,490.54296875,178.5,490.54296875,158C490.54296875,137.5,490.54296875,117,479.6634749745935,101C468.78398119918694,85,447.024993648374,73.5,436.1454998729675,67.75L425.266006097561,62" id="edge3" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M235.23732850609755,185L221.19321646341461,190.75C207.14910442073173,196.5,179.06088033536585,208,165.01676829268294,224C150.97265625,240,150.97265625,260.5,150.97265625,281C150.97265625,301.5,150.97265625,322,165.74661276223776,338C180.52056927447552,354,210.06848229895104,365.5,224.8424388111888,371.25L239.61639532342656,377" id="edge4" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M320.2228467987805,185L324.2775025406504,190.75C328.3321582825203,196.5,336.4414697662601,208,340.4961255081301,219.5C344.55078125,231,344.55078125,242.5,344.55078125,248.25L344.55078125,254" id="edge5" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M303.65081402972027,451L298.82815231643355,456.75C294.0054906031468,462.5,284.36016717657344,474,279.5375054632867,485.5C274.71484375,497,274.71484375,508.5,274.71484375,514.25L274.71484375,520" id="edge6" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M340.73046875,810.5000683246789L357.7604166666667,803.5000569372323C374.7903645833333,796.500045549786,408.8502604166667,782.500022774893,425.8802083333333,763.6666780541132C442.91015625,744.8333333333334,442.91015625,721.1666666666666,442.91015625,697.5C442.91015625,673.8333333333334,442.91015625,650.1666666666666,442.91015625,626.5833333333334C442.91015625,603,442.91015625,579.5,442.91015625,556C442.91015625,532.5,442.91015625,509,434.20662150349654,491.5C425.503086756993,474,408.09601726398597,462.5,399.3924825174825,456.75L390.68894777097904,451" id="edge7" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M312.5688833841463,308L305.7579236534553,313.75C298.9469639227642,319.5,285.3250444613821,331,283.57894760219455,342.5C281.832850743007,354,291.962576486014,365.5,297.0274393575175,371.25L302.09230222902096,377" id="edge8" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M274.71484375,592L274.71484375,597.75C274.71484375,603.5,274.71484375,615,266.39069377200707,626.5C258.0665437940141,638,241.41824383802816,649.5,233.0940938600352,655.25L224.76994388204224,661" id="edge9" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path><path d="M363.6346227134146,308L367.6987741361788,313.75C371.7629255589431,319.5,379.8912284044715,331,379.6661261122008,342.5C379.4410238199301,354,370.8625163898601,365.5,366.5732626748252,371.25L362.2840089597902,377" id="edge10" class=" edge-thickness-normal transition" style="fill:none" marker-end="url(#statediagram-barbEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(171.9296875, 768.5)"><g class="label" transform="translate(-48.1328125, -9.5)"><rect rx="0" ry="0" width="96.265625" height="19"></rect><foreignObject width="96.265625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">{u1}, join, {s}</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(301.18359375, 96.5)"><g class="label" transform="translate(-37.1640625, -9.5)"><rect rx="0" ry="0" width="74.328125" height="19"></rect><foreignObject width="74.328125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">{s}, ask, {}</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(490.54296875, 219.5)"><g class="label" transform="translate(-48.1484375, -9.5)"><rect rx="0" ry="0" width="96.296875" height="19"></rect><foreignObject width="96.296875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">{u1}, msg, {s}</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(150.97265625, 281)"><g class="label" transform="translate(-47.5859375, -9.5)"><rect rx="0" ry="0" width="95.171875" height="19"></rect><foreignObject width="95.171875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">{}, reject, {s}</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(344.55078125, 219.5)"><g class="label" transform="translate(-44.5546875, -9.5)"><rect rx="0" ry="0" width="89.109375" height="19"></rect><foreignObject width="89.109375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">{}, grant, {s}</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(274.71484375, 485.5)"><g class="label" transform="translate(-53.4609375, -9.5)"><rect rx="0" ry="0" width="106.921875" height="19"></rect><foreignObject width="106.921875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">{u1}, leave, {s}</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(442.91015625, 626.5)"><g class="label" transform="translate(-65.6796875, -9.5)"><rect rx="0" ry="0" width="131.359375" height="19"></rect><foreignObject width="131.359375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">{s}, confirmJ, {u1}</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(271.703125, 342.5)"><g class="label" transform="translate(-47.6171875, -9.5)"><rect rx="0" ry="0" width="95.234375" height="19"></rect><foreignObject width="95.234375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">{s}, fwd, {u1}</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(274.71484375, 626.5)"><g class="label" transform="translate(-65.9140625, -9.5)"><rect rx="0" ry="0" width="131.828125" height="19"></rect><foreignObject width="131.828125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">{s}, confirmL, {u1}</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(388.01953125, 342.5)"><g class="label" transform="translate(-39.0546875, -9.5)"><rect rx="0" ry="0" width="78.109375" height="19"></rect><foreignObject width="78.109375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">{s}, fwd, {}</span></div></foreignObject></g></g></g><g class="nodes"><g class="node statediagram-state" id="state-0-3" transform="translate(374.1796875, 35)"><rect class="outer title-state" x="-110.9921875" y="-27" width="221.984375" height="54"></rect><line class="divider" x1="-110.9921875" x2="110.9921875" y1="19.5" y2="19.5"></line><g class="label" transform="translate(-103.4921875, -24)"><foreignObject width="206.984375" height="39" transform="translate( 0, 0)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">(2,3)<br/> <font color="blue">rcp((0),msg)</font> ∧ <font color="blue">rcp((0),leave)</font><br/></span></div></foreignObject><foreignObject width="0" height="0" transform="translate( 103.4921875, 51.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel"></span></div></foreignObject></g></g><g class="node statediagram-state" id="state-1-5" transform="translate(301.18359375, 158)"><rect class="outer title-state" x="-110.9921875" y="-27" width="221.984375" height="54"></rect><line class="divider" x1="-110.9921875" x2="110.9921875" y1="19.5" y2="19.5"></line><g class="label" transform="translate(-103.4921875, -24)"><foreignObject width="206.984375" height="39" transform="translate( 0, 0)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">(2,4)<br/> <font color="blue">rcp((0),msg)</font> ∧ <font color="blue">rcp((0),leave)</font><br/></span></div></foreignObject><foreignObject width="0" height="0" transform="translate( 103.4921875, 51.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel"></span></div></foreignObject></g></g><g class="node statediagram-state" id="state-2-10" transform="translate(334.68359375, 414)"><rect class="outer title-state" x="-163.9296875" y="-37" width="327.859375" height="74"></rect><line class="divider" x1="-163.9296875" x2="163.9296875" y1="29.5" y2="29.5"></line><g class="label" transform="translate(-156.4296875, -34)"><foreignObject width="312.859375" height="59" transform="translate( 0, 0)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">(2,0)<br/> <font color="blue">rcp((0),msg)</font> ∧ <font color="blue">rcp((0),leave)</font><br/> <font color="green">rsp((1),msg)</font> ⋁ <font color="green">rsp((1),leave)</font> ⋁ <font color="green">rsp((1),join)</font></span></div></foreignObject><foreignObject width="0" height="0" transform="translate( 156.4296875, 71.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel"></span></div></foreignObject></g></g><g class="node statediagram-state" id="state-3-9" transform="translate(274.71484375, 556)"><rect class="outer title-state" x="-69.578125" y="-36" width="139.15625" height="72"></rect><line class="divider" x1="-69.578125" x2="69.578125" y1="28.5" y2="28.5"></line><g class="label" transform="translate(-62.078125, -33)"><foreignObject width="124.15625" height="57" transform="translate( 0, 0)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">(3,2)<br/> <font color="blue">rcp((1),confirmL)</font><br/> <font color="green">rsp((0),confirmL)</font></span></div></foreignObject><foreignObject width="0" height="0" transform="translate( 62.078125, 69.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel"></span></div></foreignObject></g></g><g class="node statediagram-state" id="state-4-10" transform="translate(344.55078125, 281)"><rect class="outer title-state" x="-110.9921875" y="-27" width="221.984375" height="54"></rect><line class="divider" x1="-110.9921875" x2="110.9921875" y1="19.5" y2="19.5"></line><g class="label" transform="translate(-103.4921875, -24)"><foreignObject width="206.984375" height="39" transform="translate( 0, 0)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">(2,5)<br/> <font color="blue">rcp((0),msg)</font> ∧ <font color="blue">rcp((0),leave)</font><br/></span></div></foreignObject><foreignObject width="0" height="0" transform="translate( 103.4921875, 51.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel"></span></div></foreignObject></g></g><g class="node statediagram-state" id="state-5-9" transform="translate(171.9296875, 697.5)"><rect class="outer title-state" x="-163.9296875" y="-36.5" width="327.859375" height="73"></rect><line class="divider" x1="-163.9296875" x2="163.9296875" y1="29" y2="29"></line><g class="label" transform="translate(-156.4296875, -33.5)"><foreignObject width="312.859375" height="58" transform="translate( 0, 0)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">(0,0)<br/> <font color="blue">rcp((0),join)</font><br/> <font color="green">rsp((1),join)</font> ⋁ <font color="green">rsp((1),msg)</font> ⋁ <font color="green">rsp((1),leave)</font></span></div></foreignObject><foreignObject width="0" height="0" transform="translate( 156.4296875, 70.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel"></span></div></foreignObject></g></g><g class="node statediagram-state" id="state-6-7" transform="translate(271.39453125, 839)"><rect class="outer title-state" x="-69.3359375" y="-36" width="138.671875" height="72"></rect><line class="divider" x1="-69.3359375" x2="69.3359375" y1="28.5" y2="28.5"></line><g class="label" transform="translate(-61.8359375, -33)"><foreignObject width="123.671875" height="57" transform="translate( 0, 0)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">(1,1)<br/> <font color="blue">rcp((1),confirmJ)</font><br/> <font color="green">rsp((0),confirmJ)</font></span></div></foreignObject><foreignObject width="0" height="0" transform="translate( 61.8359375, 69.5)"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel"></span></div></foreignObject></g></g><g class="node default" id="state-root_start-0" transform="translate(148.13671875, 556)"><circle class="state-start" r="7" width="14" height="14"></circle></g></g></g></g></svg>